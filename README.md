# NxNextjsStorybookTest

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

This repo is created as a proof-of-concept for the issue reported in https://github.com/nrwl/nx/issues/14656

## Serve the Next.js site

Run `nx run next-js:serve:development` for a dev server. Notice that the Next.js `<Image>` component correctly loads a remote image that is allowed via the `next.config.js` settings (specifically the `images.remotePatterns` array).

## Serve the storybook

Run `nx run my-lib:storybook`. Notice that the same Next.js `<Image>` component used will now throw an error:

> Invalid src prop (https://via.placeholder.com/400x350) on `next/image`, hostname "via.placeholder.com" is not configured under images in your `next.config.js`
